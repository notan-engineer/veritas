# Story 3: Clarify Extraction vs Persistence Logs

**Status**: Done
**Estimated Effort**: 1 hour
**Priority**: High
**Dependencies**: None

## User Story

As a **developer reading logs to understand job results**,
I want **clear distinction between extraction phase and persistence phase in log messages**,
So that **I don't mistake in-memory article counts for actual database saves**.

## Acceptance Criteria

1. ✅ Extraction completion logs explicitly state "not yet persisted"
2. ✅ Phase transition markers separate extraction from persistence
3. ✅ No ambiguous "completed" or "success" messages
4. ✅ Consistent terminology throughout all logs
5. ✅ Existing log structure maintained for UI compatibility

## Technical Approach

### Files to Modify
- `services/scraper/src/enhanced-logger.ts`
- `services/scraper/src/enhanced-scraper.ts`

### Key Changes

1. **Update `logSourceExtractionCompleted()` message**:
   - OLD: "Source CNN completed: 12/10 articles"
   - NEW: "Source CNN extraction completed: 12 articles extracted (pending persistence)"

2. **Add phase transition logs**:
   - "=== EXTRACTION PHASE STARTED ==="
   - "=== PERSISTENCE PHASE STARTED ==="
   - "=== VERIFICATION PHASE STARTED ==="

3. **Add phase markers to logs**:
   ```typescript
   additionalData: {
     phase: 'extraction',  // or 'persistence', 'verification'
     note: 'These articles have not yet been persisted to database'
   }
   ```

## Testing Steps

1. Run scraping job
2. Review logs for clear phase separation
3. Verify no ambiguous "completed" messages during extraction
4. Check phase markers appear in correct sequence
5. Confirm UI displays updated messages correctly

## Definition of Done

- [ ] All extraction logs include "pending persistence" note
- [ ] Phase transition markers implemented
- [ ] Log messages reviewed for ambiguity
- [ ] Manual testing confirms clarity
- [ ] UI displays new messages correctly
- [ ] Code reviewed and merged

## Notes

- Simple but high-impact change
- Prevents future confusion about log meanings
- Complements other stories by providing context
