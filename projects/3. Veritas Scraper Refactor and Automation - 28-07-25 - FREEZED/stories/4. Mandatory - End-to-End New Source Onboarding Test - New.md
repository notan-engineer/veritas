# 4. Mandatory - End-to-End New Source Onboarding Test - New

## User Story
As a System Administrator, I want to test and validate the entire semi-automated workflow for adding a new source, to ensure the process is efficient, reliable, and produces a working, high-quality scraper.

## Acceptance Criteria
- [ ] **Step 1 (Config):** A new source is successfully added to the `sources` table in the database.
- [ ] **Step 2 (Generation):** The configuration generation script (from Story 3) is run against the new source, and it successfully produces the `.md` output file.
- [ ] **Step 3 (Creation & Review):** The content of the `.md` file is used as a prompt for an external LLM. A developer then reviews, refines, and tests the generated code to ensure it meets the Handler Quality Standards.
- [ ] **Step 4 (Integration & Test):** The developer-approved code is added to the router, the application is rebuilt, and a scrape job for the new source runs successfully, saving articles to the database.
- [ ] **Step 5 (Documentation):** The entire process is documented in a new procedure file: `keystone/procedures/add-new-scraper-source.md`
- [ ] The generated handler passes all quality checks:
  - [ ] Conforms to the `ScrapedArticle` interface
  - [ ] Uses shared utilities appropriately
  - [ ] Includes proper error handling
  - [ ] Has accompanying unit tests with HTML fixtures
  - [ ] Successfully scrapes at least 5 articles in production